#ifndef Q_CONTROL_H_
#define Q_CONTROL_H_


/******************************************************************************/
/*----------------------------------Includes----------------------------------*/
/******************************************************************************/
#include "InfineonRacer.h"

/******************************************************************************/
/*-----------------------------------Macros-----------------------------------*/
/******************************************************************************/
//#define P_Steer 0.005
//#define D_Steer 0.00005

#define SteerDutyMax 0.4
#define SpeedMax     0.4
#define SpeedMin     0.2
/******************************************************************************/
/*--------------------------------Enumerations--------------------------------*/
/******************************************************************************/

/******************************************************************************/
/*-----------------------------Data Structures--------------------------------*/
/******************************************************************************/

/******************************************************************************/
/*------------------------------Global variables------------------------------*/
/******************************************************************************/
IFX_EXTERN float SteerDuty;
IFX_EXTERN sint16 Error_Steer;
IFX_EXTERN uint16 Error_Old_Steer;

IFX_EXTERN float P_Steer;
IFX_EXTERN double D_Steer;

IFX_EXTERN float MotorDutyRef;

IFX_EXTERN float Speed;
/******************************************************************************/
/*-------------------------Function Prototypes--------------------------------*/
/******************************************************************************/
IFX_EXTERN float InfineonRacer_PDControlSteer(void);
IFX_EXTERN float InfineonRacer_RefMotor(float MotorDutyMax);
IFX_EXTERN float InfineonRacer_SpeedCommand(float steer_duty);
IFX_EXTERN void InfineonRacer_CalSpeed(void);
IFX_EXTERN void InfineonRacer_PIDConSpeed(float speed);
#endif
